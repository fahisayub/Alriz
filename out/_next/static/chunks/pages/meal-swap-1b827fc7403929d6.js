(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[353],{86:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/meal-swap",function(){return n(1316)}])},1316:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(5893),l=n(7294),i=n(7963),a=n(7747),s=n(5970),o=n(5418),u=n(3090),c=n(5432),d=n(6554),m=n(6914),p=(0,d.G)(function(e,t){let{children:n,placeholder:l,className:i,...a}=e;return(0,r.jsxs)(m.m.select,{...a,ref:t,className:(0,c.cx)("chakra-select",i),children:[l&&(0,r.jsx)("option",{value:"",children:l}),n]})});p.displayName="SelectField";var f=n(8912),h=n(7030),x=n(3179),v=(0,d.G)((e,t)=>{var n;let l=(0,h.jC)("Select",e),{rootProps:i,placeholder:a,icon:s,color:o,height:u,h:d,minH:v,minHeight:b,iconColor:j,iconSize:y,...N}=(0,x.Lr)(e),[g,C]=function(e,t){let n={},r={};for(let[l,i]of Object.entries(e))t.includes(l)?n[l]=i:r[l]=i;return[n,r]}(N,x.oE),S=(0,f.Y)(C),k={paddingEnd:"2rem",...l.field,_focus:{zIndex:"unset",...null==(n=l.field)?void 0:n._focus}};return(0,r.jsxs)(m.m.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:o},...g,...i,children:[(0,r.jsx)(p,{ref:t,height:null!=d?d:u,minH:null!=v?v:b,placeholder:a,...S,__css:k,children:e.children}),(0,r.jsx)(_,{"data-disabled":(0,c.PB)(S.disabled),...(j||o)&&{color:j||o},__css:l.icon,...y&&{fontSize:y},children:s})]})});v.displayName="Select";var b=e=>(0,r.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),j=(0,m.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),_=e=>{let{children:t=(0,r.jsx)(b,{}),...n}=e,i=(0,l.cloneElement)(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,r.jsx)(j,{...n,className:"chakra-select__icon-wrapper",children:(0,l.isValidElement)(t)?i:null})};_.displayName="SelectIcon";var y=n(4225),N=n(1163),g=()=>{let[e,t]=(0,l.useState)(""),[n,c]=(0,l.useState)(""),[d,m]=(0,l.useState)(""),p=(0,i.p)(),f=(0,N.useRouter)(),h=async t=>{if(t.preventDefault(),!e||!n||!d){p({title:"Error",description:"All fields are required",status:"error",duration:5e3,isClosable:!0});return}try{let t=await fetch("/api/meal/swap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({homeId:e,mealType:n,newDate:d})});if(t.ok)p({title:"Success",description:"Swap request submitted successfully",status:"success",duration:5e3,isClosable:!0}),f.push("/");else{let e=await t.json();p({title:"Error",description:e.message,status:"error",duration:5e3,isClosable:!0})}}catch(e){console.error(e),p({title:"Error",description:"An error occurred while submitting the swap request",status:"error",duration:5e3,isClosable:!0})}};return(0,r.jsx)(a.xu,{maxW:"md",mx:"auto",mt:8,children:(0,r.jsxs)("form",{onSubmit:h,children:[(0,r.jsxs)(s.NI,{id:"homeId",isRequired:!0,children:[(0,r.jsx)(o.l,{children:"Home ID"}),(0,r.jsx)(u.I,{type:"text",value:e,onChange:e=>t(e.target.value)})]}),(0,r.jsxs)(s.NI,{id:"mealType",isRequired:!0,mt:4,children:[(0,r.jsx)(o.l,{children:"Meal Type"}),(0,r.jsxs)(v,{placeholder:"Select meal type",value:n,onChange:e=>c(e.target.value),children:[(0,r.jsx)("option",{value:"BREAKFAST",children:"Breakfast"}),(0,r.jsx)("option",{value:"LUNCH",children:"Lunch"}),(0,r.jsx)("option",{value:"DINNER",children:"Dinner"})]})]}),(0,r.jsxs)(s.NI,{id:"newDate",isRequired:!0,mt:4,children:[(0,r.jsx)(o.l,{children:"New Date"}),(0,r.jsx)(u.I,{type:"date",value:d,onChange:e=>m(e.target.value)})]}),(0,r.jsx)(y.z,{type:"submit",colorScheme:"teal",mt:4,children:"Submit Swap Request"})]})})}},1163:function(e,t,n){e.exports=n(6036)},4225:function(e,t,n){"use strict";n.d(t,{z:function(){return x}});var r=n(7294),[l,i]=(0,n(5227).k)({strict:!1,name:"ButtonGroupContext"}),a=n(6914),s=n(5432),o=n(5893);function u(e){let{children:t,className:n,...l}=e,i=(0,r.isValidElement)(t)?(0,r.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,u=(0,s.cx)("chakra-button__icon",n);return(0,o.jsx)(a.m.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...l,className:u,children:i})}u.displayName="ButtonIcon";var c=n(1136);function d(e){let{label:t,placement:n,spacing:l="0.5rem",children:i=(0,o.jsx)(c.$,{color:"currentColor",width:"1em",height:"1em"}),className:u,__css:d,...m}=e,p=(0,s.cx)("chakra-button__spinner",u),f="start"===n?"marginEnd":"marginStart",h=(0,r.useMemo)(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[f]:t?l:0,fontSize:"1em",lineHeight:"normal",...d}),[d,t,f,l]);return(0,o.jsx)(a.m.div,{className:p,...m,__css:h,children:i})}d.displayName="ButtonSpinner";var m=n(1103),p=n(6554),f=n(7030),h=n(3179),x=(0,p.G)((e,t)=>{let n=i(),l=(0,f.mq)("Button",{...n,...e}),{isDisabled:u=null==n?void 0:n.isDisabled,isLoading:c,isActive:p,children:x,leftIcon:b,rightIcon:j,loadingText:_,iconSpacing:y="0.5rem",type:N,spinner:g,spinnerPlacement:C="start",className:S,as:k,...I}=(0,h.Lr)(e),q=(0,r.useMemo)(()=>{let e={...null==l?void 0:l._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...l,...!!n&&{_focus:e}}},[l,n]),{ref:w,type:B}=function(e){let[t,n]=(0,r.useState)(!e);return{ref:(0,r.useCallback)(e=>{e&&n("BUTTON"===e.tagName)},[]),type:t?"button":void 0}}(k),E={rightIcon:j,leftIcon:b,iconSpacing:y,children:x};return(0,o.jsxs)(a.m.button,{ref:(0,m.qq)(t,w),as:k,type:null!=N?N:B,"data-active":(0,s.PB)(p),"data-loading":(0,s.PB)(c),__css:q,className:(0,s.cx)("chakra-button",S),...I,disabled:u||c,children:[c&&"start"===C&&(0,o.jsx)(d,{className:"chakra-button__spinner--start",label:_,placement:"start",spacing:y,children:g}),c?_||(0,o.jsx)(a.m.span,{opacity:0,children:(0,o.jsx)(v,{...E})}):(0,o.jsx)(v,{...E}),c&&"end"===C&&(0,o.jsx)(d,{className:"chakra-button__spinner--end",label:_,placement:"end",spacing:y,children:g})]})});function v(e){let{leftIcon:t,rightIcon:n,children:r,iconSpacing:l}=e;return(0,o.jsxs)(o.Fragment,{children:[t&&(0,o.jsx)(u,{marginEnd:l,children:t}),r,n&&(0,o.jsx)(u,{marginStart:l,children:n})]})}x.displayName="Button"},8912:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var r=n(5970),l=n(5432);function i(e){let{isDisabled:t,isInvalid:n,isReadOnly:i,isRequired:a,...s}=function(e){var t,n,i;let a=(0,r.NJ)(),{id:s,disabled:o,readOnly:u,required:c,isRequired:d,isInvalid:m,isReadOnly:p,isDisabled:f,onFocus:h,onBlur:x,...v}=e,b=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==a?void 0:a.hasFeedbackText)&&(null==a?void 0:a.isInvalid)&&b.push(a.feedbackId),(null==a?void 0:a.hasHelpText)&&b.push(a.helpTextId),{...v,"aria-describedby":b.join(" ")||void 0,id:null!=s?s:null==a?void 0:a.id,isDisabled:null!=(t=null!=o?o:f)?t:null==a?void 0:a.isDisabled,isReadOnly:null!=(n=null!=u?u:p)?n:null==a?void 0:a.isReadOnly,isRequired:null!=(i=null!=c?c:d)?i:null==a?void 0:a.isRequired,isInvalid:null!=m?m:null==a?void 0:a.isInvalid,onFocus:(0,l.v0)(null==a?void 0:a.onFocus,h),onBlur:(0,l.v0)(null==a?void 0:a.onBlur,x)}}(e);return{...s,disabled:t,readOnly:i,required:a,"aria-invalid":(0,l.Qm)(n),"aria-required":(0,l.Qm)(a),"aria-readonly":(0,l.Qm)(i)}}},5970:function(e,t,n){"use strict";n.d(t,{NI:function(){return x},NJ:function(){return h},e:function(){return p}});var r=n(5227),l=n(1103),i=n(6554),a=n(7030),s=n(3179),o=n(6914),u=n(5432),c=n(7294),d=n(5893),[m,p]=(0,r.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[f,h]=(0,r.k)({strict:!1,name:"FormControlContext"}),x=(0,i.G)(function(e,t){let n=(0,a.jC)("Form",e),{getRootProps:r,htmlProps:i,...p}=function(e){let{id:t,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:a,...s}=e,o=(0,c.useId)(),d=t||`field-${o}`,m=`${d}-label`,p=`${d}-feedback`,f=`${d}-helptext`,[h,x]=(0,c.useState)(!1),[v,b]=(0,c.useState)(!1),[j,_]=(0,c.useState)(!1),y=(0,c.useCallback)((e={},t=null)=>({id:f,...e,ref:(0,l.lq)(t,e=>{e&&b(!0)})}),[f]),N=(0,c.useCallback)((e={},t=null)=>({...e,ref:t,"data-focus":(0,u.PB)(j),"data-disabled":(0,u.PB)(i),"data-invalid":(0,u.PB)(r),"data-readonly":(0,u.PB)(a),id:void 0!==e.id?e.id:m,htmlFor:void 0!==e.htmlFor?e.htmlFor:d}),[d,i,j,r,a,m]),g=(0,c.useCallback)((e={},t=null)=>({id:p,...e,ref:(0,l.lq)(t,e=>{e&&x(!0)}),"aria-live":"polite"}),[p]),C=(0,c.useCallback)((e={},t=null)=>({...e,...s,ref:t,role:"group","data-focus":(0,u.PB)(j),"data-disabled":(0,u.PB)(i),"data-invalid":(0,u.PB)(r),"data-readonly":(0,u.PB)(a)}),[s,i,j,r,a]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!a,isDisabled:!!i,isFocused:!!j,onFocus:()=>_(!0),onBlur:()=>_(!1),hasFeedbackText:h,setHasFeedbackText:x,hasHelpText:v,setHasHelpText:b,id:d,labelId:m,feedbackId:p,helpTextId:f,htmlProps:s,getHelpTextProps:y,getErrorMessageProps:g,getRootProps:C,getLabelProps:N,getRequiredIndicatorProps:(0,c.useCallback)((e={},t=null)=>({...e,ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[])}}((0,s.Lr)(e)),h=(0,u.cx)("chakra-form-control",e.className);return(0,d.jsx)(f,{value:p,children:(0,d.jsx)(m,{value:n,children:(0,d.jsx)(o.m.div,{...r({},t),className:h,__css:n.container})})})});x.displayName="FormControl",(0,i.G)(function(e,t){let n=h(),r=p(),l=(0,u.cx)("chakra-form__helper-text",e.className);return(0,d.jsx)(o.m.div,{...null==n?void 0:n.getHelpTextProps(e,t),__css:r.helperText,className:l})}).displayName="FormHelperText"},5418:function(e,t,n){"use strict";n.d(t,{l:function(){return c}});var r=n(5970),l=n(6554),i=n(7030),a=n(3179),s=n(6914),o=n(5432),u=n(5893),c=(0,l.G)(function(e,t){var n;let l=(0,i.mq)("FormLabel",e),c=(0,a.Lr)(e),{className:m,children:p,requiredIndicator:f=(0,u.jsx)(d,{}),optionalIndicator:h=null,...x}=c,v=(0,r.NJ)(),b=null!=(n=null==v?void 0:v.getLabelProps(x,t))?n:{ref:t,...x};return(0,u.jsxs)(s.m.label,{...b,className:(0,o.cx)("chakra-form__label",c.className),__css:{display:"block",textAlign:"start",...l},children:[p,(null==v?void 0:v.isRequired)?f:h]})});c.displayName="FormLabel";var d=(0,l.G)(function(e,t){let n=(0,r.NJ)(),l=(0,r.e)();if(!(null==n?void 0:n.isRequired))return null;let i=(0,o.cx)("chakra-form__required-indicator",e.className);return(0,u.jsx)(s.m.span,{...null==n?void 0:n.getRequiredIndicatorProps(e,t),__css:l.requiredIndicator,className:i})});d.displayName="RequiredIndicator"},3090:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var r=n(8912),l=n(6554),i=n(7030),a=n(3179),s=n(6914),o=n(5432),u=n(5893),c=(0,l.G)(function(e,t){let{htmlSize:n,...l}=e,c=(0,i.jC)("Input",l),d=(0,a.Lr)(l),m=(0,r.Y)(d),p=(0,o.cx)("chakra-input",e.className);return(0,u.jsx)(s.m.input,{size:n,...m,__css:c.field,ref:t,className:p})});c.displayName="Input",c.id="Input"},7747:function(e,t,n){"use strict";n.d(t,{xu:function(){return a}});var r=n(6914),l=n(6554),i=n(5893),a=(0,r.m)("div");a.displayName="Box";var s=(0,l.G)(function(e,t){let{size:n,centerContent:r=!0,...l}=e;return(0,i.jsx)(a,{ref:t,boxSize:n,__css:{...r?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...l})});s.displayName="Square",(0,l.G)(function(e,t){let{size:n,...r}=e;return(0,i.jsx)(s,{size:n,ref:t,borderRadius:"9999px",...r})}).displayName="Circle"},1103:function(e,t,n){"use strict";n.d(t,{lq:function(){return l},qq:function(){return i}});var r=n(7294);function l(...e){return t=>{e.forEach(e=>{!function(e,t){if(null!=e){if("function"==typeof e){e(t);return}try{e.current=t}catch(n){throw Error(`Cannot assign value '${t}' to ref '${e}'`)}}}(e,t)})}}function i(...e){return(0,r.useMemo)(()=>l(...e),e)}},7963:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(8266),l=n(2321),i=n(3058),a=n(7294);function s(e){let{theme:t}=(0,i.uP)(),n=(0,r.OX)();return(0,a.useMemo)(()=>(0,l.Cj)(t.direction,{...n,...e}),[e,t.direction,n])}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=86)}),_N_E=e.O()}]);